No NodeJS, ao instalar pacotes usando o npm (Node Package Manager), muitas vezes você precisa decidir se deseja instalá-los como uma dependência ou como uma devDependency. É aqui que as flags --save e --save-dev entram em ação. Essas flags controlam onde os pacotes instalados são colocados no arquivo package.json e se são necessários em ambientes de produção ou desenvolvimento.

Neste artigo, exploraremos a diferença entre --save e --save-dev, como elas impactam seu projeto e quando usar cada uma. Também explicaremos como essas sinalizações afetam suas dependências e forneceremos exemplos para ajudar você a tomar decisões informadas.

### Diferença entre --save e --save-dev
Aqui está uma comparação detalhada de --save e --save-dev com base em vários recursos:

|Características|--salvar|--salvar-dev|
|---|---|---|
|Propósito|Adiciona o pacote às dependências em package.json, indicando que é necessário na produção|Adiciona o pacote a devDependencies em package.json, indicando que ele só é necessário durante o desenvolvimento|
|Quando é usado|Para pacotes essenciais para executar o aplicativo em produção|Para pacotes necessários apenas durante o desenvolvimento (por exemplo, estruturas de teste, ferramentas de construção)|
|Localização em package.json|Adicionado na seção "dependências".|Adicionado na seção "devDependencies".|
|Efeito na pasta node_modules|Ele aumenta de tamanho à medida que dependências de produção são instaladas.|Também aumenta seu tamanho, mas essas dependências são ignoradas na produção.|
|Implantação de produção|Instalado ao implantar ou executar o aplicativo em produção|Não instalado em produção, reduzindo o tamanho das dependências de produção|
|Exemplos de Pacotes|[Express](https://www.geeksforgeeks.org/node-js/express-js/) , [Mongoose](https://www.geeksforgeeks.org/node-js/mongoose-tutorial/) , [Cors](https://www.geeksforgeeks.org/node-js/npm-cors/) , [JSONWebToken](https://www.geeksforgeeks.org/web-tech/json-web-token-jwt/)|[brincadeira](https://www.geeksforgeeks.org/node-js/jest-npm/) , [mocha](https://www.geeksforgeeks.org/javascript/introduction-to-mocha/) , chai, [eslint](https://www.geeksforgeeks.org/javascript/eslint-pluggable-javascript-linter/) , [webpack](https://www.geeksforgeeks.org/javascript/what-is-webpack/)|
|Padrão no npm 5 e posterior|Por padrão, o npm adiciona pacotes às dependências mesmo sem o sinalizador --save|Deve usar explicitamente --save-dev para adicionar a devDependencies|
### O que é --save?
Em versões anteriores do npm (anteriores à versão 5), o sinalizador --save era necessário para indicar que um pacote deveria ser instalado como uma dependência no arquivo package.json. Ao instalar um pacote com --save, ele é adicionado à seção de dependências do package.json. Esses pacotes são essenciais para a funcionalidade principal do seu aplicativo e são necessários para executá-lo em ambientes de desenvolvimento e produção.

A partir da versão 5 do npm e posteriores, a opção --save não é mais necessária. Por padrão, o npm adiciona o pacote instalado às dependências sem a necessidade de especificar --save.

### Principais recursos do --save
Instala o pacote e o adiciona à seção "dependências" em package.json.
Garante que o pacote seja instalado ao executar npm install em um repositório clonado.
Obrigatório para ambientes de produção.

Exemplo de uso de --save
```
npm install express --save
```

Este comando instala o pacote express e o adiciona à seção de dependências no package.json
```
"dependencies": {
    "express": "^4.17.3"
}
```

Pontos-chave
--save adiciona um pacote às dependências no package.json.
Pacotes instalados com --save são necessários em ambientes de desenvolvimento e produção.

### O que é --save-dev?
A flag --save-dev é usada para instalar um pacote como uma dependência de desenvolvimento. Dependências de desenvolvimento não são necessárias para a execução do aplicativo em produção, mas são necessárias durante o processo de desenvolvimento. Essas dependências são normalmente usadas para ferramentas como frameworks de teste, ferramentas de compilação, linters e outros utilitários necessários no desenvolvimento, mas não no ambiente de produção.

Quando você instala um pacote com --save-dev, ele é adicionado à seção devDependencies do package.json.

Exemplo de uso de --save-dev
```
npm install jest --save-dev
```

Este comando instala o pacote jest e o adiciona à seção devDependencies no package.json:
```
"devDependencies": {
    "jest": "^27.0.6"
}
```

Pontos-chave
--save-dev adiciona um pacote a devDependencies no package.json.
Os pacotes instalados com --save-dev são necessários somente durante o desenvolvimento e não são instalados quando o aplicativo é implantado em produção.

### Principais diferenças entre --save e --save-dev

### 1. Objetivo e caso de uso
--save: Usado para instalar pacotes necessários para executar o aplicativo em desenvolvimento e produção (por exemplo, frameworks, bancos de dados).
--save-dev: Usado para instalar pacotes que são necessários apenas durante a fase de desenvolvimento (por exemplo, ferramentas de teste, sistemas de compilação, linters de código).

### 2. Localização em package.json
--save: Adiciona o pacote à seção de dependências em package.json.
--save-dev: Adiciona o pacote à seção devDependencies em package.json.

### 3. Impacto na implantação da produção
--save: Os pacotes instalados com --save são incluídos ao implantar o aplicativo em produção.
--save-dev: Os pacotes instalados com --save-dev são excluídos quando o aplicativo é implantado em produção, tornando o ambiente de produção mais limpo.

### 4. Exemplo de uso
--save: usado ao instalar bibliotecas principais como express, react ou mongodb, que são necessárias para a execução do seu aplicativo.
--save-dev: Usado ao instalar ferramentas como webpack , babel ou eslint , que ajudam no processo de desenvolvimento, mas não são necessárias na produção.

### 5. Comportamento padrão no npm 5+
--save: Desde o npm 5, a flag --save não é mais necessária. Por padrão, o npm adiciona pacotes instalados às dependências em package.json.
--save-dev: Este sinalizador ainda é necessário para instalar pacotes como dependências de desenvolvimento.


### Quando usar --save?
Use o pacote npm install (padrão --save) quando:
O pacote é necessário na produção.
Faz parte do aplicativo principal (por exemplo, estruturas, clientes de banco de dados, ferramentas de autenticação).
Você quer que ele seja instalado ao executar o projeto em qualquer ambiente.
Exemplos : express, mongoose, jsonwebtoken, cors


### Quando usar --save-dev?
Use npm install package --save-dev quando:
O pacote é necessário apenas para desenvolvimento (por exemplo, testes, depuração, compilação).
Ele não deve ser incluído na produção para manter a construção leve.
Você precisa de linters, bibliotecas de teste ou ferramentas de construção.
Exemplos: jest, eslint, prettier, webpack

### Conclusão
Os sinalizadores --save e --save-dev no Node.js são importantes para gerenciar as dependências do seu projeto de forma organizada. --save é usado para instalar pacotes que são essenciais para a funcionalidade principal do seu aplicativo e devem ser incluídos na produção. --save-dev, por outro lado, é usado para pacotes que são necessários apenas durante o desenvolvimento e não devem ser incluídos no ambiente de produção.

Com o npm 5+, a flag --save agora é o comportamento padrão, e você não precisa mais especificá-la explicitamente. Entender a diferença entre dependências de tempo de execução e dependências de desenvolvimento é importante para manter seu ambiente de produção limpo e eficiente, além de garantir que você tenha as ferramentas certas disponíveis durante o desenvolvimento.














